<!DOCTYPE HTML>

<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Shifu" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fail Over</title>
  <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript">
</script>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" type="text/css">
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js" type="text/javascript">
</script>
  <script src="/javascripts/main.js" type="text/javascript">
</script>
  <link rel="stylesheet" href="/coderay.css" type="text/css">
  <link rel="stylesheet" href="/style.css" type="text/css">
  <link rel="icon" href="/images/owl_head_32.png">
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>

  <body>
	
	<header id="header" role="banner">
		<nav class="navbar navbar-default" role="navigation">
			<div class="navbar-header">
			  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			  </button>
			  <a href="http://paypal.github.io" class="navbar-brand"><img src="/images/OSSLogoPP.png" alt="PayPal open source" /></a>
			</div>
			<div class="collapse navbar-collapse" id="navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/" id="shifu-logo"><img src="/images/shifu-logo.png" height="44" ></a>



					<!--<li><a href="/project/about">About</a></li>-->

          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/project/about">About</a></li>
              <li><a href="/project/how-to-contribute">How to Contribute</a></li>
              
            </ul>
          </li>

					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started<b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li><a href="/project/download">Download</a></li>
							<li><a href="/docs/shifu-core/0.2.x/tutorials/quickstart">Quick Start</a></li>

						</ul>
					</li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation<b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li><a href="/docs/shifu-core/0.2.x">Shifu-Core</a></li>
							<li><a href="/docs/guagua">Guagua</a></li>
						</ul>
					</li>
					
				</ul>
			</div>
		</nav>
	</header>
 
  

  <div class="container" id="content">
    <div class="row">
      <div class="col-md-9">
        <div id="main">
          
<p><a href="http://shifu.ml/docs/stable/guide/guagua/"><img src="../images/guagua_duck_50.png" alt="Guagua" align="right"></a></p>

<p>Fail over is supported in <strong>Guagua</strong> for both Hadoop MapReduce implementation and YARN implementation. By using <strong>Guagua</strong>, no worry about task failure, task will be restarted from last successful iteration (checkpoint).</p>

<h2 id="fail-over-on-mapreduce-of-hadoop">Fail Over on MapReduce of Hadoop</h2>

<p>By using mapper tasks, fail-over is triggered when one mapper is failed and at most 4 times by default. But for Guagua, it should support restarting at last successful iteration. How to find last successful iteration? Guagua reads znodes from ZooKeeper and sorts them with iteration number and gets the maximal number as the last iteration. Then in restarted <strong>Guagua</strong> worker task, the initial iteration will be set to last successful iteration.</p>

<h2 id="fail-over-on-yarn-of-hadoop">Fail Over on YARN of Hadoop</h2>

<h2 id="restart-failed-tasks-from-last-successful-iteration">Restart failed tasks from last successful iteration</h2>

<p>It is the same as the fail over on MapReduce.</p>

<h2 id="task-fail-over-support">Task Fail Over Support</h2>

<p>If one task is failed, how can it be restarted in Guagua YARN implemenation like MapReduce? In our GuaguaAppMaster, status for each task is tracked, if one is failed, another task with the same partition number will be restarted. Each task has maximal 4 attempts like MapReduce by default.</p>

        </div>
      </div>

      <div class="col-md-3">
        <div id="side">
          <h1>Fail Over</h1><ul class="toc"><li><a href="#fail-over-on-mapreduce-of-hadoop">Fail Over on MapReduce of Hadoop</a></li><li><a href="#fail-over-on-yarn-of-hadoop">Fail Over on YARN of Hadoop</a></li><li><a href="#restart-failed-tasks-from-last-successful-iteration">Restart failed tasks from last successful iteration</a></li><li><a href="#task-fail-over-support">Task Fail Over Support</a></li></ul>
        </div>
      </div>
    </div>
  </div>
  
    </main>

  <div id="footer">
    <div class="container">
      <div class="row">
        <div id="footer-content">
          Lovingly crafted at <a href="https://www.paypal.com" alt="PayPal">PayPal</a>, code licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0.html" alt="Apache License.">Apache License v2.0</a><br>
        </div>
      </div>
    </div>
  </div><!--footer-->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47925727-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
